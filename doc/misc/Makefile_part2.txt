
OBJ		=	$(addprefix $(OBJDIR)/, $(SRC:.c=.o))

.SILENT:

all		:	$(OBJDIR) depends $(NAME)

$(addprefix $(OBJDIR)/, %.o)	:	%.c
								$(CC) $(CFLAGS) -o $@ -c $<
								echo -e '\033[0;32mBuilding C Object $@\033[0m'

$(NAME)	:	$(OBJ)
		ar rcs $(NAME) $(OBJ)
		echo -e '\033[1;31mC libraries \033[1;35m$(NAME) \033[1;33m$(CC)\033[0m'

nodepends	:	$(OBJDIR) $(NAME)

depends		:
	makedepend -- $(CFLAGS) -- $(SRC) -p $(OBJDIR)/ -m $(INCLDEP) 2> /dev/null

clean	:
		/bin/rm	-fr $(OBJDIR)
		echo -e '\033[1;34mClean libraries $(NAME)\033[0m'

fclean	:	clean
		/bin/rm -fr $(NAME)
		echo -e '\033[1;34mFclean libraries $(NAME)\033[0m'

re		:	fclean all

debug	:	CFLAGS += $(DEBUG)
debug	:	re
		echo -e '\033[1;31mDebug version \033[1;35m$(DEBUG)\033[0m'

every	:	CFLAGS += -Weverything
every	:	re
		echo -e '\033[1;33mGood job !\033[0m'

$(OBJDIR)	:
		/bin/mkdir $(OBJDIR);			\
		for DIR in $(LISTDIR);			\
		do								\
			/bin/mkdir $(OBJDIR)/$$DIR;	\
		done							\

help	:
		echo -e '\033[1;34mclean\t\033[0m⇒ Cleaning all object'
		echo -e '\033[1;34mfclean\t\033[0m⇒ Cleaning all object and libraries'
		echo -e '\033[1;34mdebug\t\033[0m⇒ Add debug flags'
		echo -e '\033[1;34mre\t\033[0m⇒ Deleting all object and build'
		echo -e ""
		echo -e '\033[1;34mevery\t\033[0m⇒ God code'

.PHONY:	clean fclean re debug every
